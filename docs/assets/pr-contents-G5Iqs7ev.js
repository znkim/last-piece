import{e as P,d as v,b as h,a as $}from"./database-B95gJrVg.js";import{g as B}from"./init-7cnFeRyZ.js";document.addEventListener("DOMContentLoaded",async function(){const u=B(),a=new URL(window.location.href);let e=parseInt(a.searchParams.get("projectId"));const c=a.searchParams.get("name");let s;if(c!==null)s=P(c),e=s.projectId;else{(e===null||isNaN(e))&&(e=1);let d=v(e)?.designerId[0];s=h(d)}(e===null||isNaN(e))&&(e=1);const t=v(e),l=document.getElementById("project-title");l.innerHTML=t.title;const g=document.getElementById("project-description");g.textContent=t.description;const j=t.designerId[0],m=h(j),L=document.getElementById("designer-name");L.textContent=m.name;const x=document.getElementById("designer-english-name");x.textContent=m.englishName;const M=document.getElementById("designer-email");M.innerHTML=`<span>E-MAIL</span> ${m.email}`;const E=document.getElementById("designer-sns");E.innerHTML=`<span>SNS</span> ${m.sns}`,(m.sns===""||m.sns===null)&&(E.style.display="none");const y=t.designerId[1];if(y){const n=h(y),d=document.getElementById("designer-name2");d.textContent=n.name;const r=document.getElementById("designer-english-name2");r.textContent=n.englishName;const o=document.getElementById("designer-email2");o.innerHTML=`<span>E-MAIL</span> ${n.email}`;const i=document.getElementById("designer-sns2");i.innerHTML=`<span>SNS</span> ${n.sns}`}else{const n=document.querySelector("div.pr-sub-title2");n.style.display="none"}const C=document.getElementById("pr-contents-wrap");for(const n of t.contents){const d=document.createElement("div");d.className="pr-content-item";const r=n.toString();if(r.endsWith(".png")||r.endsWith(".jpg")||r.endsWith(".jpeg")||r.endsWith(".gif")){const o=document.createElement("img");o.src=`${u}${n}`,o.style="width: 100%; display: block;",d.appendChild(o)}else if(r.endsWith("text")!==-1){let o=await fetch(`${u}${n}`).then(p=>p.text()).then(p=>p.trim());const i=document.createElement("iframe");o.indexOf("youtu.be")!==-1?o=`https://www.youtube.com/embed/${o.split("youtu.be/")[1]}`:o=`https://www.youtube.com/embed/${new URL(o).searchParams.get("v")}`,i.src=o,i.width="100%",/Mobi|Android|iPhone/i.test(navigator.userAgent)?i.height="250px":i.height="800px",i.title="YouTube video player",i.frameBorder="0",i.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",i.allowFullscreen=!0,d.appendChild(i)}C.appendChild(d)}const I=B();let f=/Mobi|Android|iPhone/i.test(navigator.userAgent)?"mobile/":"web/";const w=document.getElementById("prev-page");w.addEventListener("click",()=>{let n=t.projectId-1;window.location.href=I+f+"pr-contents.html?projectId="+encodeURIComponent(n)}),t.projectId===1&&(w.style.visibility="hidden");const b=document.getElementById("next-page");b.addEventListener("click",()=>{let n=t.projectId+1;window.location.href=I+f+"pr-contents.html?projectId="+encodeURIComponent(n)}),t.projectId===$().length&&(b.style.visibility="hidden")});const T=()=>{let u=/Mobi|Android|iPhone/i.test(navigator.userAgent);const a=document.getElementById("pr-contents-scroll"),e=document.getElementById("scroll-to-top");if(!e)return;let c=document.getElementById("footer");c==null&&(c=document.querySelector(".contents-footer"));let s;u?(s=20,e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{const t=document.documentElement.scrollHeight-window.innerHeight,l=90;if(window.scrollY>=t-l){const g=window.scrollY-(t-l);e.style.bottom=`${s+g}px`}else e.style.bottom=`${s}px`})):(s=40,e.addEventListener("click",()=>{a.scrollTo({top:0,behavior:"smooth"})}),a.addEventListener("scroll",()=>{const t=window.innerHeight,l=c.getBoundingClientRect().top;if(l<t){const g=t-l;e.style.bottom=`${s+g}px`}else e.style.bottom=`${s}px`}))};document.addEventListener("DOMContentLoaded",function(){T()});
