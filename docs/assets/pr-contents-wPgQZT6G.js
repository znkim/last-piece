import{f as C,b as h,e as P,a as T}from"./database-CNWA-m1L.js";import{g as v}from"./init-DF1h9boJ.js";document.addEventListener("DOMContentLoaded",async function(){const p=v(),a=new URL(window.location.href);let e=parseInt(a.searchParams.get("projectId"));const l=a.searchParams.get("name");let s;l!==null?(console.log(l),s=C(l),e=s.projectId):((e===null||isNaN(e))&&(e=1),s=h(e)),console.log(s),(e===null||isNaN(e))&&(e=1);const t=P(e);console.log(t);const d=document.getElementById("project-title");d.innerHTML=t.title;const r=document.getElementById("project-description");r.textContent=t.description;const B=t.designerId[0],u=h(B),j=document.getElementById("designer-name");j.textContent=u.name;const L=document.getElementById("designer-english-name");L.textContent=u.englishName;const x=document.getElementById("designer-email");x.innerHTML=`<span>E-MAIL</span> ${u.email}`;const E=document.getElementById("designer-sns");E.innerHTML=`<span>SNS</span> ${u.sns}`,(s.sns===""||s.sns===null)&&(E.style.display="none");const y=t.designerId[1];if(y){const n=h(y),m=document.getElementById("designer-name2");m.textContent=n.name;const c=document.getElementById("designer-english-name2");c.textContent=n.englishName;const o=document.getElementById("designer-email2");o.innerHTML=`<span>E-MAIL</span> ${n.email}`;const i=document.getElementById("designer-sns2");i.innerHTML=`<span>SNS</span> ${n.sns}`}else{const n=document.querySelector("div.pr-sub-title2");n.style.display="none"}const M=document.getElementById("pr-contents-wrap");for(const n of t.contents){const m=document.createElement("div");m.className="pr-content-item";const c=n.toString();if(c.endsWith(".png")||c.endsWith(".jpg")||c.endsWith(".jpeg")||c.endsWith(".gif")){const o=document.createElement("img");o.src=`${p}${n}`,o.style="width: 100%; display: block;",m.appendChild(o),console.log(o.src)}else if(c.endsWith("text")!==-1){let o=await fetch(`${p}${n}`).then(g=>g.text()).then(g=>g.trim());console.log(o);const i=document.createElement("iframe");o.indexOf("youtu.be")!==-1?o=`https://www.youtube.com/embed/${o.split("youtu.be/")[1]}`:o=`https://www.youtube.com/embed/${new URL(o).searchParams.get("v")}`,i.src=o,i.width="100%",/Mobi|Android|iPhone/i.test(navigator.userAgent)?i.height="250px":i.height="800px",i.title="YouTube video player",i.frameBorder="0",i.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",i.allowFullscreen=!0,m.appendChild(i)}M.appendChild(m)}const I=v();let f=/Mobi|Android|iPhone/i.test(navigator.userAgent)?"mobile/":"web/";const w=document.getElementById("prev-page");w.addEventListener("click",()=>{let n=t.projectId-1;window.location.href=I+f+"pr-contents.html?projectId="+encodeURIComponent(n)}),t.projectId===1&&(w.style.visibility="hidden");const b=document.getElementById("next-page");b.addEventListener("click",()=>{let n=t.projectId+1;window.location.href=I+f+"pr-contents.html?projectId="+encodeURIComponent(n)}),t.projectId===T().length&&(b.style.visibility="hidden")});const $=()=>{let p=/Mobi|Android|iPhone/i.test(navigator.userAgent);console.log("scrollToTop initialized");const a=document.getElementById("pr-contents-scroll"),e=document.getElementById("scroll-to-top");if(!e)return;let l=document.getElementById("footer");l==null&&(l=document.querySelector(".contents-footer"));let s;p?(s=20,e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{const t=document.documentElement.scrollHeight-window.innerHeight,d=90;if(window.scrollY>=t-d){const r=window.scrollY-(t-d);e.style.bottom=`${s+r}px`}else e.style.bottom=`${s}px`})):(s=40,e.addEventListener("click",()=>{a.scrollTo({top:0,behavior:"smooth"})}),a.addEventListener("scroll",()=>{const t=window.innerHeight,d=l.getBoundingClientRect().top;if(d<t){const r=t-d;console.log(r),e.style.bottom=`${s+r}px`}else e.style.bottom=`${s}px`}))};document.addEventListener("DOMContentLoaded",function(){$()});
