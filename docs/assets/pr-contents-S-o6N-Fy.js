import{e as x,b as y,a as M}from"./database-DzA5empu.js";import{g as f}from"./init-CqtiBfSn.js";document.addEventListener("DOMContentLoaded",function(){const g=f(),a=new URL(window.location.href);let n=parseInt(a.searchParams.get("projectId"));(n===null||isNaN(n))&&(n=1);const e=x(n);console.log(e);const d=document.getElementById("project-title");d.textContent=e.title;const c=document.getElementById("project-description");c.textContent=e.description;const r=e.designerId[0],i=y(r),w=document.getElementById("designer-name");w.textContent=i.name;const b=document.getElementById("designer-english-name");b.textContent=i.englishName;const v=document.getElementById("designer-email");v.innerHTML=`<span>E-MAIL</span> ${i.email}`;const B=document.getElementById("designer-sns");B.innerHTML=`<span>SNS</span> ${i.sns}`;const p=e.designerId[1];if(p){const o=y(p),m=document.getElementById("designer-name2");m.textContent=o.name;const s=document.getElementById("designer-english-name2");s.textContent=o.englishName;const t=document.getElementById("designer-email2");t.innerHTML=`<span>E-MAIL</span> ${o.email}`;const l=document.getElementById("designer-sns2");l.innerHTML=`<span>SNS</span> ${o.sns}`}const j=document.getElementById("pr-contents-wrap");e.contents.forEach(o=>{const m=document.createElement("div");m.className="pr-content-item";const s=o.toString();if(s.endsWith(".png")||s.endsWith(".jpg")||s.endsWith(".jpeg")||s.endsWith(".gif")){const t=document.createElement("img");t.src=`${g}projects_details/${o}`,t.style="width: 100%;",m.appendChild(t)}else if(s.indexOf("youtube.com")!==-1||s.indexOf("youtu.be")!==-1){const t=document.createElement("iframe");let l=s;l.indexOf("youtu.be")!==-1?l=`https://www.youtube.com/embed/${l.split("youtu.be/")[1]}`:l=`https://www.youtube.com/embed/${new URL(l).searchParams.get("v")}`,t.src=l,t.width="100%",/Mobi|Android|iPhone/i.test(navigator.userAgent)?t.height="250px":t.height="800px",t.title="YouTube video player",t.frameBorder="0",t.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.allowFullscreen=!0,m.appendChild(t)}j.appendChild(m)});const u=f();let h=/Mobi|Android|iPhone/i.test(navigator.userAgent)?"mobile/":"web/";const E=document.getElementById("prev-page");E.addEventListener("click",()=>{let o=e.projectId-1;window.location.href=u+h+"pr-contents.html?projectId="+encodeURIComponent(o)}),e.projectId===1&&(E.style.visibility="hidden");const I=document.getElementById("next-page");I.addEventListener("click",()=>{let o=e.projectId+1;window.location.href=u+h+"pr-contents.html?projectId="+encodeURIComponent(o)}),e.projectId===M().length&&(I.style.visibility="hidden")});const C=()=>{let g=/Mobi|Android|iPhone/i.test(navigator.userAgent);console.log("scrollToTop initialized");const a=document.getElementById("pr-contents-scroll"),n=document.getElementById("scroll-to-top");if(!n)return;let e=document.getElementById("footer");e==null&&(e=document.querySelector("footer"));let d;g?(d=20,n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{const c=window.innerHeight,r=e.getBoundingClientRect().top;if(r<c){const i=c-r;console.log(i),n.style.bottom=`${d+i}px`}else n.style.bottom=`${d}px`})):(d=40,n.addEventListener("click",()=>{a.scrollTo({top:0,behavior:"smooth"})}),a.addEventListener("scroll",()=>{const c=window.innerHeight,r=e.getBoundingClientRect().top;if(r<c){const i=c-r;console.log(i),n.style.bottom=`${d+i}px`}else n.style.bottom=`${d}px`}))};document.addEventListener("DOMContentLoaded",function(){C()});
