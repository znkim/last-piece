import{e as x,b as y,a as M}from"./database-DzA5empu.js";import{g as f}from"./init-CqtiBfSn.js";document.addEventListener("DOMContentLoaded",function(){const s=f(),c=new URL(window.location.href);let d=parseInt(c.searchParams.get("projectId"));(d===null||isNaN(d))&&(d=1);const t=x(d);console.log(t);const r=document.getElementById("project-title");r.textContent=t.title;const m=document.getElementById("project-description");m.textContent=t.description;const a=t.designerId[0],g=y(a),w=document.getElementById("designer-name");w.textContent=g.name;const b=document.getElementById("designer-english-name");b.textContent=g.englishName;const v=document.getElementById("designer-email");v.innerHTML=`<span>E-MAIL</span> ${g.email}`;const B=document.getElementById("designer-sns");B.innerHTML=`<span>SNS</span> ${g.sns}`;const p=t.designerId[1];if(p){const n=y(p),l=document.getElementById("designer-name2");l.textContent=n.name;const o=document.getElementById("designer-english-name2");o.textContent=n.englishName;const e=document.getElementById("designer-email2");e.innerHTML=`<span>E-MAIL</span> ${n.email}`;const i=document.getElementById("designer-sns2");i.innerHTML=`<span>SNS</span> ${n.sns}`}const j=document.getElementById("pr-contents-wrap");t.contents.forEach(n=>{const l=document.createElement("div");l.className="pr-content-item";const o=n.toString();if(o.endsWith(".png")||o.endsWith(".jpg")||o.endsWith(".jpeg")||o.endsWith(".gif")){const e=document.createElement("img");e.src=`${s}projects_details/${n}`,e.style="width: 100%;",l.appendChild(e)}else if(o.indexOf("youtube.com")!==-1||o.indexOf("youtu.be")!==-1){const e=document.createElement("iframe");let i=o;i.indexOf("youtu.be")!==-1?i=`https://www.youtube.com/embed/${i.split("youtu.be/")[1]}`:i=`https://www.youtube.com/embed/${new URL(i).searchParams.get("v")}`,e.src=i,e.width="100%",/Mobi|Android|iPhone/i.test(navigator.userAgent)?e.height="250px":e.height="800px",e.title="YouTube video player",e.frameBorder="0",e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",e.allowFullscreen=!0,l.appendChild(e)}j.appendChild(l)});const u=f();let h=/Mobi|Android|iPhone/i.test(navigator.userAgent)?"mobile/":"web/";const E=document.getElementById("prev-page");E.addEventListener("click",()=>{let n=t.projectId-1;window.location.href=u+h+"pr-contents.html?projectId="+encodeURIComponent(n)}),t.projectId===1&&(E.style.visibility="hidden");const I=document.getElementById("next-page");I.addEventListener("click",()=>{let n=t.projectId+1;window.location.href=u+h+"pr-contents.html?projectId="+encodeURIComponent(n)}),t.projectId===M().length&&(I.style.visibility="hidden")});const C=()=>{const s=document.getElementById("scroll-to-top");if(!s)return;s.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});let c=document.getElementById("footer");c==null&&(c=document.querySelector("footer"));let d=/Mobi|Android|iPhone/i.test(navigator.userAgent),t=40;d&&(t=20),window.addEventListener("scroll",()=>{const r=window.innerHeight,m=c.getBoundingClientRect().top;if(m<r){const a=r-m;console.log(a),s.style.bottom=`${t+a}px`}else s.style.bottom=`${t}px`})};document.addEventListener("DOMContentLoaded",function(){C()});
