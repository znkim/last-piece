import{f as C,b as h,e as P,a as $}from"./database-VJZo-Llg.js";import{g as v}from"./init-D6Ncp5CS.js";document.addEventListener("DOMContentLoaded",async function(){const p=v(),a=new URL(window.location.href);let e=parseInt(a.searchParams.get("projectId"));const l=a.searchParams.get("name");let o;l!==null?(console.log(l),o=C(l),e=o.projectId):((e===null||isNaN(e))&&(e=1),o=h(e)),console.log(o),(e===null||isNaN(e))&&(e=1);const t=P(e);console.log(t);const d=document.getElementById("project-title");d.textContent=t.title;const r=document.getElementById("project-description");r.textContent=t.description;const B=t.designerId[0],u=h(B),j=document.getElementById("designer-name");j.textContent=u.name;const x=document.getElementById("designer-english-name");x.textContent=u.englishName;const L=document.getElementById("designer-email");L.innerHTML=`<span>E-MAIL</span> ${u.email}`;const E=document.getElementById("designer-sns");E.innerHTML=`<span>SNS</span> ${u.sns}`,(o.sns===""||o.sns===null)&&(E.style.display="none");const I=t.designerId[1];if(I){const s=h(I),m=document.getElementById("designer-name2");m.textContent=s.name;const c=document.getElementById("designer-english-name2");c.textContent=s.englishName;const n=document.getElementById("designer-email2");n.innerHTML=`<span>E-MAIL</span> ${s.email}`;const i=document.getElementById("designer-sns2");i.innerHTML=`<span>SNS</span> ${s.sns}`}const M=document.getElementById("pr-contents-wrap");for(const s of t.contents){const m=document.createElement("div");m.className="pr-content-item";const c=s.toString();if(c.endsWith(".png")||c.endsWith(".jpg")||c.endsWith(".jpeg")||c.endsWith(".gif")){const n=document.createElement("img");n.src=`${p}${s}`,n.style="width: 100%; display: block;",m.appendChild(n),console.log(n.src)}else if(c.endsWith("text")!==-1){let n=await fetch(`${p}${s}`).then(g=>g.text()).then(g=>g.trim());console.log(n);const i=document.createElement("iframe");n.indexOf("youtu.be")!==-1?n=`https://www.youtube.com/embed/${n.split("youtu.be/")[1]}`:n=`https://www.youtube.com/embed/${new URL(n).searchParams.get("v")}`,i.src=n,i.width="100%",/Mobi|Android|iPhone/i.test(navigator.userAgent)?i.height="250px":i.height="800px",i.title="YouTube video player",i.frameBorder="0",i.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",i.allowFullscreen=!0,m.appendChild(i)}M.appendChild(m)}const f=v();let y=/Mobi|Android|iPhone/i.test(navigator.userAgent)?"mobile/":"web/";const w=document.getElementById("prev-page");w.addEventListener("click",()=>{let s=t.projectId-1;window.location.href=f+y+"pr-contents.html?projectId="+encodeURIComponent(s)}),t.projectId===1&&(w.style.visibility="hidden");const b=document.getElementById("next-page");b.addEventListener("click",()=>{let s=t.projectId+1;window.location.href=f+y+"pr-contents.html?projectId="+encodeURIComponent(s)}),t.projectId===$().length&&(b.style.visibility="hidden")});const T=()=>{let p=/Mobi|Android|iPhone/i.test(navigator.userAgent);console.log("scrollToTop initialized");const a=document.getElementById("pr-contents-scroll"),e=document.getElementById("scroll-to-top");if(!e)return;let l=document.getElementById("footer");l==null&&(l=document.querySelector(".contents-footer"));let o;p?(o=20,e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{const t=document.documentElement.scrollHeight-window.innerHeight,d=90;if(window.scrollY>=t-d){const r=window.scrollY-(t-d);e.style.bottom=`${o+r}px`}else e.style.bottom=`${o}px`})):(o=40,e.addEventListener("click",()=>{a.scrollTo({top:0,behavior:"smooth"})}),a.addEventListener("scroll",()=>{const t=window.innerHeight,d=l.getBoundingClientRect().top;if(d<t){const r=t-d;console.log(r),e.style.bottom=`${o+r}px`}else e.style.bottom=`${o}px`}))};document.addEventListener("DOMContentLoaded",function(){T()});
