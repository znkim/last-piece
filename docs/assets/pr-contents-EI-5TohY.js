import{e as B,b as x,a as L}from"./database-DzA5empu.js";import{g as E}from"./init-u_4kn1sB.js";document.addEventListener("DOMContentLoaded",function(){const l=E(),o=new URL(window.location.href);let i=parseInt(o.searchParams.get("projectId"));(i===null||isNaN(i))&&(i=1);const t=B(i);console.log(t);const c=document.getElementById("project-title");c.textContent=t.title;const r=document.getElementById("project-description");r.textContent=t.description;const p=t.designerId[0],m=x(p),y=document.getElementById("designer-name");y.textContent=m.name;const f=document.getElementById("designer-english-name");f.textContent=m.englishName;const w=document.getElementById("designer-email");w.innerHTML=`<span>E-MAIL</span> ${m.email}`;const b=document.getElementById("designer-sns");b.innerHTML=`<span>SNS</span> ${m.sns}`;const v=document.getElementById("pr-contents-wrap");t.contents.forEach(s=>{const a=document.createElement("div");a.className="pr-content-item";const n=s.toString();if(n.endsWith(".png")||n.endsWith(".jpg")||n.endsWith(".jpeg")||n.endsWith(".gif")){const e=document.createElement("img");e.src=`${l}projects_details/${s}`,e.style="width: 100%;",a.appendChild(e)}else if(n.indexOf("youtube.com")!==-1||n.indexOf("youtu.be")!==-1){const e=document.createElement("iframe");let d=n;d.indexOf("youtu.be")!==-1?d=`https://www.youtube.com/embed/${d.split("youtu.be/")[1]}`:d=`https://www.youtube.com/embed/${new URL(d).searchParams.get("v")}`,e.src=d,e.width="100%",/Mobi|Android|iPhone/i.test(navigator.userAgent)?e.height="250px":e.height="800px",e.title="YouTube video player",e.frameBorder="0",e.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",e.allowFullscreen=!0,a.appendChild(e)}v.appendChild(a)});const g=E();let u=/Mobi|Android|iPhone/i.test(navigator.userAgent)?"mobile/":"web/";const h=document.getElementById("prev-page");h.addEventListener("click",()=>{let s=t.projectId-1;window.location.href=g+u+"pr-contents.html?projectId="+encodeURIComponent(s)}),t.projectId===1&&(h.style.visibility="hidden");const I=document.getElementById("next-page");I.addEventListener("click",()=>{let s=t.projectId+1;window.location.href=g+u+"pr-contents.html?projectId="+encodeURIComponent(s)}),t.projectId===L().length&&(I.style.visibility="hidden")});const C=()=>{console.log("scrollToTop initialized");const l=document.getElementById("pr-contents-scroll"),o=document.getElementById("scroll-to-top");if(!o)return;o.addEventListener("click",()=>{l.scrollTo({top:0,behavior:"smooth"})});const i=document.querySelector(".contents-footer"),t=40;l.addEventListener("scroll",()=>{const c=window.innerHeight,r=i.getBoundingClientRect().top;if(console.log("footerTop:",r,"windowHeight:",c),r<c){const p=c-r;o.style.bottom=`${t+p}px`}else o.style.bottom=`${t}px`})};document.addEventListener("DOMContentLoaded",function(){C()});
